(function(e){function t(t){for(var r,l,i=t[0],o=t[1],c=t[2],d=0,m=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&m.push(s[l][0]),s[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var o=a[i];0!==s[o]&&(r=!1)}r&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},s={app:0},n=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"07af":function(e,t,a){"use strict";var r=a("8c88"),s=a.n(r);s.a},"1b70":function(e,t,a){"use strict";var r=a("80d0"),s=a.n(r);s.a},"1e74":function(e,t,a){"use strict";var r=a("3159"),s=a.n(r);s.a},"2ff1":function(e,t,a){"use strict";var r=a("7d71"),s=a.n(r);s.a},3159:function(e,t,a){},"34d4":function(e,t,a){},3765:function(e,t,a){},"3aff":function(e,t,a){},"3f1a":function(e,t,a){"use strict";var r=a("b11b"),s=a.n(r);s.a},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="4678"},"4c68":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return y}));a("99af"),a("d81d"),a("b0c0"),a("ac1f"),a("841c"),a("96cf");var r,s,n=a("1da1"),l=a("d4ec"),i=a("bee2"),o=a("99de"),c=a("7e84"),u=a("257e"),d=a("262e"),m=a("ade3"),p=a("2b0e"),f=a("2fe1"),b=a("c1df"),h=a.n(b),g=a("f721"),v=a.n(g),j=a("21a6"),w=a.n(j),y=Object(f["a"])((s=function(t){function a(){var e,t;Object(l["a"])(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return t=Object(o["a"])(this,(e=Object(c["a"])(a)).call.apply(e,[this].concat(s))),Object(m["a"])(Object(u["a"])(t),"time",{start:0,end:h()()}),Object(m["a"])(Object(u["a"])(t),"SelTime",[]),Object(m["a"])(Object(u["a"])(t),"search",""),Object(m["a"])(Object(u["a"])(t),"count",0),Object(m["a"])(Object(u["a"])(t),"tableData",[]),Object(m["a"])(Object(u["a"])(t),"pageSize",10),Object(m["a"])(Object(u["a"])(t),"currentPage",1),Object(m["a"])(Object(u["a"])(t),"multipleSelection",[]),Object(m["a"])(Object(u["a"])(t),"dow",!1),Object(m["a"])(Object(u["a"])(t),"dowTime",[new Date-2592e6,new Date]),Object(m["a"])(Object(u["a"])(t),"dowNum",1e3),Object(m["a"])(Object(u["a"])(t),"dowUrl",""),t}return Object(d["a"])(a,t),Object(i["a"])(a,[{key:"created",value:function(){this.getCopy()}},{key:"getCopy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;this.$api.GteCopy({params:{pageSize:t,currentPage:a,search:r,time:s}}).then((function(t){var a=t.data,r=a.count,s=a.rows;e.count=r,e.tableData=s}))}},{key:"formatterTime",value:function(e){return h()(e.created_at).format("YYYY-MM-DD, HH:mm:ss")}},{key:"formatterAddress",value:function(e){return e.data.regionName}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getCopy(e,this.currentPage,this.search,this.time)}},{key:"handleCurrentChange",value:function(e){this.currentPage=e,this.getCopy(this.pageSize,e,this.search,this.time)}},{key:"Search",value:function(){this.getCopy(this.pageSize,this.currentPage,this.search,this.time)}},{key:"SearchTime",value:function(e){switch(e){case 1:this.time.start=h()().startOf("day"),this.time.end=h()();break;case 2:this.time.start=h()().subtract(1,"days").startOf("day"),this.time.end=h()().startOf("day");break;case 3:this.time.start=h()().subtract(7,"days").startOf("day"),this.time.end=h()();break;case 4:this.time.start=h()().subtract(30,"days").startOf("day"),this.time.end=h()();break;default:this.time.start=h()(this.SelTime[0]),this.time.end=h()(this.SelTime[1]);break}this.currentPage=1,this.Search()}},{key:"handleSelectionChange",value:function(e){this.multipleSelection=e}},{key:"DelCopy",value:function(){var e=this;this.multipleSelection.length?this.$confirm("此操作将删除改内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.multipleSelection.map((function(e){return e.vid}));e.$api.DelCopy({data:{vid:t}}).then((function(t){t.data.code&&(e.$message({type:"success",message:"删除成功!"}),e.Search())}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):this.$message({type:"info",message:"没有选中"})}},{key:"download",value:function(){var t=this,a={};a.start=h()(this.dowTime[0]),a.end=h()(this.dowTime[1]),this.$api.GteCopy({params:{pageSize:this.dowNum,currentPage:1,search:this.dowUrl,time:a}}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(r){var s,n,l,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s={},s.name="CopyList",n=[],l=0;l<r.data.rows.length;l++)i=new Array,i.push(h()(r.data.rows[l].created_at).format("YYYY-MM-DD, HH:mm:ss")),i.push(r.data.rows[l].data.ip),i.push(r.data.rows[l].data.regionName),i.push(r.data.rows[l].data.city),i.push(r.data.rows[l].data.search),i.push(r.data.rows[l].data.url),i.push(r.data.rows[l].data.wechar),i.push(h()(r.data.rows[l].data.created_at).format("YYYY-MM-DD, HH:mm:ss")),n.push(i);s.cols=[{caption:"复制时间",type:"string"},{caption:"ip",type:"string"},{caption:"省",type:"string"},{caption:"城市",type:"string"},{caption:"搜索词",type:"string"},{caption:"链接",type:"string"},{caption:"复制微信号",type:"string"},{caption:"打开页面时间",type:"string"}],s.rows=n,o=v.a.execute(s),c=new e(o,"binary"),o=new Blob([c],{type:"application/vnd.openxmlformats"}),w.a.saveAs(o,"报表.xlsx"),t.dow=!1;case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}]),a}(p["default"]),r=s))||r}).call(this,a("b639").Buffer)},"5c0b":function(e,t,a){"use strict";var r=a("9c0c"),s=a.n(r);s.a},"7d71":function(e,t,a){},"80d0":function(e,t,a){},"85b2":function(e,t,a){},"8c88":function(e,t,a){},"9c0c":function(e,t,a){},b11b:function(e,t,a){},b48c:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return y}));a("99af"),a("b0c0"),a("ac1f"),a("841c"),a("96cf");var r,s,n=a("1da1"),l=a("d4ec"),i=a("bee2"),o=a("99de"),c=a("7e84"),u=a("257e"),d=a("262e"),m=a("ade3"),p=a("2b0e"),f=a("2fe1"),b=a("c1df"),h=a.n(b),g=a("f721"),v=a.n(g),j=a("21a6"),w=a.n(j),y=Object(f["a"])((s=function(t){function a(){var e,t;Object(l["a"])(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return t=Object(o["a"])(this,(e=Object(c["a"])(a)).call.apply(e,[this].concat(s))),Object(m["a"])(Object(u["a"])(t),"time",{start:0,end:h()()}),Object(m["a"])(Object(u["a"])(t),"selTime",[]),Object(m["a"])(Object(u["a"])(t),"search",""),Object(m["a"])(Object(u["a"])(t),"count",0),Object(m["a"])(Object(u["a"])(t),"tableData",[]),Object(m["a"])(Object(u["a"])(t),"pageSize",10),Object(m["a"])(Object(u["a"])(t),"currentPage",1),Object(m["a"])(Object(u["a"])(t),"dow",!1),Object(m["a"])(Object(u["a"])(t),"dowTime",[new Date-2592e6,new Date]),Object(m["a"])(Object(u["a"])(t),"dowNum",1e3),Object(m["a"])(Object(u["a"])(t),"dowUrl",""),t}return Object(d["a"])(a,t),Object(i["a"])(a,[{key:"created",value:function(){this.getVisitor()}},{key:"getVisitor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;this.$api.GetVisitor({params:{pageSize:t,currentPage:a,search:r,time:s}}).then((function(t){var a=t.data,r=a.count,s=a.rows;e.count=r,e.tableData=s}))}},{key:"formatterTime",value:function(e){return h()(e.created_at).format("YYYY-MM-DD, HH:mm:ss")}},{key:"formatterAddress",value:function(e){return e.regionName}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getVisitor(e,this.currentPage,this.search,this.time)}},{key:"handleCurrentChange",value:function(e){this.currentPage=e,this.getVisitor(this.pageSize,e,this.search,this.time)}},{key:"Search",value:function(){this.getVisitor(this.pageSize,this.currentPage,this.search,this.time)}},{key:"SearchTime",value:function(e){switch(e){case 1:this.time.start=h()().startOf("day"),this.time.end=h()();break;case 2:this.time.start=h()().subtract(1,"days").startOf("day"),this.time.end=h()().startOf("day");break;case 3:this.time.start=h()().subtract(7,"days").startOf("day"),this.time.end=h()();break;case 4:this.time.start=h()().subtract(30,"days").startOf("day"),this.time.end=h()();break;default:this.time.start=h()(this.selTime[0]),this.time.end=h()(this.selTime[1]);break}this.currentPage=1,this.Search()}},{key:"ResetAndreFresh",value:function(e){switch(e){case 0:this.time={start:0,end:h()()},this.getVisitor(),this.$message({message:"重置成功！",type:"success"});break;case 1:this.Search(),this.$message({message:"刷新成功！",type:"success"});break;default:break}}},{key:"tableRowClassName",value:function(e){e.row,e.rowIndex;return""}},{key:"download",value:function(){var t=this,a={};a.start=h()(this.dowTime[0]),a.end=h()(this.dowTime[1]),this.$api.GetVisitor({params:{pageSize:this.dowNum,currentPage:1,search:this.dowUrl,time:a}}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(r){var s,n,l,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s={},s.name="CopyList",n=[],l=0;l<r.data.rows.length;l++)i=new Array,i.push(r.data.rows[l].ip),i.push(r.data.rows[l].regionName),i.push(r.data.rows[l].city),i.push(r.data.rows[l].search),i.push(r.data.rows[l].url),i.push(r.data.rows[l].wechar),i.push(h()(r.data.rows[l].created_at).format("YYYY-MM-DD, HH:mm:ss")),n.push(i);s.cols=[{caption:"ip",type:"string"},{caption:"省",type:"string"},{caption:"城市",type:"string"},{caption:"搜索词",type:"string"},{caption:"链接",type:"string"},{caption:"复制微信号",type:"string"},{caption:"打开页面时间",type:"string"}],s.rows=n,o=v.a.execute(s),c=new e(o,"binary"),o=new Blob([c],{type:"application/vnd.openxmlformats"}),w.a.saveAs(o,"报表.xlsx"),t.dow=!1;case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}]),a}(p["default"]),r=s))||r}).call(this,a("b639").Buffer)},bfde:function(e,t,a){"use strict";var r=a("85b2"),s=a.n(r);s.a},bffb:function(e,t,a){"use strict";var r=a("3765"),s=a.n(r);s.a},c081:function(e,t,a){},ca9c:function(e,t,a){"use strict";var r=a("34d4"),s=a.n(r);s.a},ccae:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],l=(a("5c0b"),a("2877")),i={},o=Object(l["a"])(i,s,n,!1,null,null,null),c=o.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",[a("Aside")],1),a("el-container",[a("el-header",[a("Header")],1),a("el-main",[a("router-view")],1),a("el-footer",[a("Footer")],1)],1)],1)},m=[],p=a("d4ec"),f=a("99de"),b=a("7e84"),h=a("262e"),g=a("2fe1"),v=a("2f62"),j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:a("cf05"),alt:""}})]),r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"background-color":"#21212f","text-color":"#585858","active-text-color":"#fff",router:""}},[e._l(e.meuns,(function(t,a){return[t.children?r("el-submenu",{key:a,attrs:{index:a+""}},[r("template",{slot:"title"},[r("i",{class:t.icon}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.content))])]),e._l(t.children,(function(s,n){return[r("el-menu-item-group",{key:a+"-"+n,attrs:{title:s.title}},[e._l(s.grandchildren,(function(s,l){return[r("el-menu-item",{key:a+"-"+n+"-"+l,attrs:{index:t.router+""+s.router}},[e._v(e._s(s.content))])]}))],2)]}))],2):r("el-menu-item",{key:a,attrs:{index:t.router}},[r("i",{class:t.icon}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.content))])])]}))],2)],1)],1)},w=[],y=a("9ab4"),k=[{icon:"el-icon-menu",content:"后台首页",router:"/"},{icon:"el-icon-receiving",content:"用户管理",router:"/user",children:[{title:"所有用户",grandchildren:[{content:"用户列表",router:"/list"},{content:"添加用户",router:"/add"}]}]},{icon:"el-icon-coin",content:"所有数据",router:"/data",children:[{title:"查看数据",grandchildren:[{content:"访问量",router:"/visit"},{content:"复制量",router:"/copy"}]}]},{icon:"el-icon-folder",content:"页面分类",router:"/classify",children:[{title:"分类管理",grandchildren:[{content:"我的链接",router:"/my-url"}]}]},{icon:"el-icon-delete",content:"退出登录",router:"/login"}],O=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(b["a"])(t).apply(this,arguments)),e.meuns=k,e}return Object(h["a"])(t,e),t}(r["default"]);O=y["a"]([g["a"]],O);var _,x,C,S,U,$,T,z,P,F,L,D,A,E,Y,M,N,R,H=O,G=H,V=(a("d896"),Object(l["a"])(G,j,w,!1,null,"21d4fa14",null)),B=V.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",{staticClass:"el-icon-s-fold"}),a("div",{staticClass:"user"},[a("div",{staticClass:"block"},[a("el-avatar",{attrs:{size:"small",src:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png"}})],1),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s("null"==this.User().profile?this.User().username:this.User().profile.real_name)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-user-solid"}},[e._v("个人设置")]),a("el-dropdown-item",{attrs:{icon:"el-icon-delete-solid"}},[e._v("退出登录")])],1)],1)],1)])},q=[],W=(_=Object(g["a"])({methods:Object(v["c"])(["User","Login"])}),_(x=function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(b["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),t}(r["default"]))||x),J=W,Z=(a("2ff1"),Object(l["a"])(J,I,q,!1,null,"e9a17134",null)),K=Z.exports,Q=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},X=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" @2020 Author : "),a("a",{staticStyle:{color:"#999"},attrs:{href:"https://github.com/Mr-ViAng",target:"_blank"}},[e._v("WeiJiang")]),e._v(" versions : 0.1.1 ")])}],ee={},te=Object(l["a"])(ee,Q,X,!1,null,"052c9eab",null),ae=te.exports,re=(C=Object(g["a"])({components:{Aside:B,Header:K,Footer:ae}}),C(S=function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(b["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),t}(r["default"]))||S),se=re,ne=(a("ca9c"),Object(l["a"])(se,d,m,!1,null,null,null)),le=ne.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"login"},[a("el-col",{staticClass:"login-box",attrs:{xs:20,sm:14,md:10,lg:7,xl:5}},[a("h2",[e._v("统计后台")]),a("el-form",{ref:"user",staticClass:"demo-ruleForm",attrs:{model:e.user,rules:e.rules}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text",autocomplete:"on",placeholder:"用户名"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("el-form-item",[a("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(t){return e.login("user")}}},[e._v("登入")])],1)],1)],1)],1)},oe=[],ce=(a("99af"),a("bee2")),ue=a("257e"),de=a("ade3"),me=a("04e1"),pe=a.n(me),fe=(U=Object(g["a"])({methods:Object(v["b"])(["setUser","setLogin"])}),U((T=function(e){function t(){var e,a;Object(p["a"])(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return a=Object(f["a"])(this,(e=Object(b["a"])(t)).call.apply(e,[this].concat(s))),Object(de["a"])(Object(ue["a"])(a),"user",{}),Object(de["a"])(Object(ue["a"])(a),"rules",{username:[{required:!0,message:"请输入账号！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"}]}),a}return Object(h["a"])(t,e),Object(ce["a"])(t,[{key:"login",value:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("请填写完整！"),!1;t.$api.login(t.user).then((function(e){var a=e.data,r=a.code,s=a.message,n=a.token;r?(t.$message({message:s,type:"success"}),localStorage.setItem("token",n),t.setUser(pe()(n)),t.setLogin(!0),t.$router.push("/")):t.$message.error(s)}))}))}}]),t}(r["default"]),$=T))||$),be=fe,he=(a("07af"),Object(l["a"])(be,ie,oe,!1,null,"0bc4ab56",null)),ge=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-card",{attrs:{shadow:"hover"}},[a("el-button",{attrs:{plain:""}},[e._v("今天")]),a("el-button",{attrs:{plain:""}},[e._v("昨日")]),a("el-button",{attrs:{plain:""}},[e._v("最近七天")]),a("el-button",{attrs:{plain:""}},[e._v("最近30天")]),a("el-date-picker",{staticClass:"time",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{staticClass:"browse",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"hover"}},[e._v("从不显示")]),a("el-card",{attrs:{shadow:"hover"}},[e._v("从不显示")]),a("el-card",{attrs:{shadow:"hover"}},[e._v("从不显示")]),a("el-card",{attrs:{shadow:"hover"}},[e._v("从不显示")])],1),a("el-col",{attrs:{span:16}},[a("div",{attrs:{id:"line"}})])],1)],1),a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{staticClass:"region",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{attrs:{id:"map"}})]),a("el-col",{attrs:{span:6}},[a("div",{attrs:{id:"pie"}})]),a("el-col",{attrs:{span:12}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"regionName",label:"地区",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"count",label:"点击量",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"点击比率",sortable:"",formatter:e.formatter,align:"center"}})],1)],1)],1)],1)],1)],1)},je=[],we=(a("b680"),a("313e")),ye=a.n(we),ke=(a("3139"),Object(g["a"])((P=function(e){function t(){var e,a;Object(p["a"])(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return a=Object(f["a"])(this,(e=Object(b["a"])(t)).call.apply(e,[this].concat(s))),Object(de["a"])(Object(ue["a"])(a),"time",""),Object(de["a"])(Object(ue["a"])(a),"count",0),Object(de["a"])(Object(ue["a"])(a),"tableData",[]),a}return Object(h["a"])(t,e),Object(ce["a"])(t,[{key:"created",value:function(){this.getAddr()}},{key:"getAddr",value:function(){var e=this;this.$api.GetAddr().then((function(t){var a=t.data,r=(a.code,a.count),s=a.data;e.count=r,e.tableData=s}))}},{key:"formatter",value:function(e){return(e.count/this.count*100).toFixed(2)+"%"}},{key:"mounted",value:function(){this.EchartsLine(),this.EchartsMap(),this.EchartsPie()}},{key:"EchartsLine",value:function(){var e=ye.a.init(document.getElementById("line")),t={title:{text:"浏览次数",textStyle:{fontSize:14},left:30},color:["#c62a2a","#1bad7e"],tooltip:{trigger:"axis"},legend:{data:["直接访问","搜索引擎"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{boundaryGap:!0,axisTick:{show:!1},axisLine:{show:!1},type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLabel:{show:!0,textStyle:{color:"#999"}}},yAxis:{axisLine:{show:!1},axisTick:{show:!1}},dataZoom:[{type:"inside",xAxisIndex:[0],filterMode:"filter",start:0,end:100}],series:[{name:"直接访问",type:"line",stack:"总量",data:[320,332,301,334,390,330,320]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]};e.setOption(t)}},{key:"EchartsMap",value:function(){var e=ye.a.init(document.getElementById("map")),t={title:{text:"来源统计",textStyle:{fontSize:14},left:30},tooltip:{},visualMap:{type:"piecewise",splitNumber:5,orient:"horizontal",pieces:[{min:1e4,color:"#117e61",label:"极高"},{min:5e3,max:1e4,color:"#20d19f",label:"高"},{min:1e3,max:5e3,color:"#33fbc3",label:"中等"},{min:100,max:1e3,color:"#bffbec",label:"低"},{max:100,color:"#e0fdf5",label:"极低"}],text:["高","低"],left:"center"},geo:{map:"china",label:{normal:{show:!1,textStyle:{color:"rgba(0,0,0,0.4)"}}},itemStyle:{normal:{areaColor:"#e3fcf5",borderColor:"#fff"},emphasis:{shadowBlur:20,shadowColor:"#e3fcf5"}}},series:[{type:"scatter",coordinateSystem:"geo"},{name:"访问量",type:"map",geoIndex:0,data:[{name:"北京",value:599},{name:"江西",value:5909},{name:"上海",value:142},{name:"黑龙江",value:44},{name:"深圳",value:92},{name:"湖北",value:810},{name:"四川",value:453}]}]};e.setOption(t)}},{key:"EchartsPie",value:function(){var e=ye.a.init(document.getElementById("pie")),t={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"访问量",type:"pie",radius:["50%","60%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"18"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}]};e.setOption(t)}}]),t}(r["default"]),z=P))||z),Oe=ke,_e=(a("1e74"),Object(l["a"])(Oe,ve,je,!1,null,"f9e0d5e6",null)),xe=_e.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"user-list",attrs:{shadow:"never"}},[a("h2",{staticClass:"user-list-title"},[e._v("全部用户")]),a("span",[e._v("（"+e._s(e.Count)+"）")]),a("el-divider"),a("el-table",{ref:"SelectUser",staticStyle:{width:"100%"},attrs:{data:e.UserData,"tooltip-effect":"dark"},on:{"selection-change":e.SelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"username",width:"300",align:"center",label:"账号"}}),a("el-table-column",{attrs:{label:"姓名",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(t.row.profile.real_name?t.row.profile.real_name:"无"))])]}}])}),a("el-table-column",{attrs:{label:"手机号",align:"center",width:"300",prop:"mobile"}}),a("el-table-column",{attrs:{prop:"created_at",align:"right",formatter:e.formatter,label:"账号添加时间"}})],1)],1),a("el-card",{staticClass:"user-list-utils",attrs:{shadow:"never"}},[a("div",{staticClass:"user-list-utils-flex"},[a("div",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.AddUser()}}},[e._v("添加用户")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.DelUser()}}},[e._v("删除用户")])],1),a("div",[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.Count}})],1)])])],1)},Se=[],Ue=(a("159b"),a("c1df")),$e=a.n(Ue),Te=Object(g["a"])((L=function(e){function t(){var e,a;Object(p["a"])(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return a=Object(f["a"])(this,(e=Object(b["a"])(t)).call.apply(e,[this].concat(s))),Object(de["a"])(Object(ue["a"])(a),"SelectUser",[]),Object(de["a"])(Object(ue["a"])(a),"Count",0),Object(de["a"])(Object(ue["a"])(a),"UserData",[]),a}return Object(h["a"])(t,e),Object(ce["a"])(t,[{key:"created",value:function(){this.getUserList()}},{key:"getUserList",value:function(){var e=this;this.$api.GetUser().then((function(t){var a=t.data,r=a.code,s=(a.message,a.data);r?(e.Count=s.count,e.UserData=s.rows):e.$message.error("获取失败，请联系后端管理人员！")}))}},{key:"formatter",value:function(e,t){return $e()(e.created_at).format("YYYY-MM-DD")}},{key:"AddUser",value:function(){this.$router.push("/user/add")}},{key:"DelUser",value:function(){var e=this;console.log(this.UserData),this.UserData?this.$confirm("此操作将删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$api.DelUser({data:e.SelectUser}).then((function(t){var a=t.data,r=a.code,s=a.message;r?(e.$message({message:s,type:"success"}),e.getUserList()):e.$message.error(s)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):this.$message({type:"info",message:"没有删除选项！"})}},{key:"SelectionChange",value:function(e){e.forEach((function(t,a){e[a]=t.id})),this.SelectUser=e}}]),t}(r["default"]),F=L))||F,ze=Te,Pe=(a("1b70"),Object(l["a"])(ze,Ce,Se,!1,null,"da695006",null)),Fe=Pe.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,sm:18,md:14,lg:12,xl:10}},[a("el-card",{staticClass:"box-card"},[a("h2",{staticClass:"add-user-title"},[e._v("添加用户")]),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"on-success":e.handleAvatarSuccess,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"登录名",prop:"username"}},[a("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"disabled"}},[a("el-radio",{attrs:{label:"false"},model:{value:e.ruleForm.disabled,callback:function(t){e.$set(e.ruleForm,"disabled",t)},expression:"ruleForm.disabled"}},[e._v("启用")]),a("el-radio",{attrs:{label:"true"},model:{value:e.ruleForm.disabled,callback:function(t){e.$set(e.ruleForm,"disabled",t)},expression:"ruleForm.disabled"}},[e._v("禁用")])],1),a("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[a("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",e._n(t))},expression:"ruleForm.mobile"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"real_name"}},[a("el-input",{model:{value:e.ruleForm.real_name,callback:function(t){e.$set(e.ruleForm,"real_name",t)},expression:"ruleForm.real_name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio",{attrs:{label:"男"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[e._v("女")]),a("el-radio",{attrs:{label:"保密"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[e._v("保密")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},De=[],Ae=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),Object(g["a"])((A=function(e){function t(){var e,a;Object(p["a"])(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return a=Object(f["a"])(this,(e=Object(b["a"])(t)).call.apply(e,[this].concat(s))),Object(de["a"])(Object(ue["a"])(a),"ruleForm",{username:"",password:"",checkPass:"",disabled:"false",email:"",mobile:"",real_name:"",gender:"男",portrait:""}),Object(de["a"])(Object(ue["a"])(a),"imageUrl",""),Object(de["a"])(Object(ue["a"])(a),"token",{Authorization:localStorage.token}),Object(de["a"])(Object(ue["a"])(a),"rules",{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:11,message:"长度在 5 到 11 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}],checkPass:[{validator:a.validatePass,trigger:"blur"},{required:!0,message:"请确认密码",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/,message:"手机号格式不对",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不对",trigger:"blur"}]}),Object(de["a"])(Object(ue["a"])(a),"validatePass",(function(e,t,r){""==t?r(new Error("请再次输入密码")):t!=a.ruleForm.password?r(new Error("两次输入密码不一致!")):r()})),a}return Object(h["a"])(t,e),Object(ce["a"])(t,[{key:"submitForm",value:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("输入错误，请检查！"),!1;t.$api.PutUser({data:t.ruleForm}).then((function(e){e.data.code&&(t.$message({message:e.data.message,type:"success"}),t.$router.push("/user/list")),console.log(e.data)}))}))}},{key:"resetForm",value:function(e){this.$refs[e].resetFields()}},{key:"handleAvatarSuccess",value:function(e,t){e.ok&&(this.ruleForm.portrait=e.portrait)}},{key:"beforeAvatarUpload",value:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}},{key:"changePortrait",value:function(e){this.imageUrl=URL.createObjectURL(e.raw)}}]),t}(r["default"]),D=A))||D),Ee=Ae,Ye=(a("dcb1"),Object(l["a"])(Ee,Le,De,!1,null,"e75c402e",null)),Me=Ye.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"})],1)},Re=[],He=Object(g["a"])(E=function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(b["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),t}(r["default"]))||E,Ge=He,Ve=Object(l["a"])(Ge,Ne,Re,!1,null,"11680910",null),Be=Ve.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"copy-funtion"},[a("div",[a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(1)}}},[e._v("今天")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(2)}}},[e._v("昨日")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(3)}}},[e._v("最近七天")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(4)}}},[e._v("最近30天")]),a("el-date-picker",{staticClass:"time",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.SearchTime(5)}},model:{value:e.SelTime,callback:function(t){e.SelTime=t},expression:"SelTime"}})],1),a("div",{staticClass:"copy-funtion"},[a("el-button",{staticClass:"dowload",on:{click:function(t){e.dow=!0}}},[e._v(" 下载报表 "),a("i",{staticClass:"el-icon-download el-icon--right"})]),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.Search()}},slot:"append"})],1)],1)])]),a("el-card",{staticClass:"copy-center",attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"date",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{type:"expand",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"访问来源"}},[a("span",[e._v("："+e._s(t.row.data.url))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"data.url",align:"center",label:"访问来源",width:"430"}}),a("el-table-column",{attrs:{prop:"created_at",align:"center",label:"复制时间",sortable:"",formatter:e.formatterTime,width:"180"}}),a("el-table-column",{attrs:{prop:"data.ip",align:"center",label:"复制IP",width:"160"}}),a("el-table-column",{attrs:{prop:"data.address",align:"center",label:"用户位置",formatter:e.formatterAddress}}),a("el-table-column",{attrs:{prop:"data.search",align:"center",label:"用户搜索词",width:"200"}}),a("el-table-column",{attrs:{prop:"data.wechar",align:"center",label:"复制微信"}}),a("el-table-column",{attrs:{align:"center",label:"用户标签",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.data.isiPad?a("el-tag",[e._v("iPad")]):t.row.data.iPhone?a("el-tag",[e._v("iPhone")]):t.row.data.isAndroidTablet?a("el-tag",[e._v("平板手机")]):t.row.data.isAndroid?a("el-tag",[e._v("Android")]):e._e(),t.row.data.isWindows?a("el-tag",[e._v("Window")]):t.row.data.isTablet?a("el-tag",[e._v("平板电脑")]):e._e()]}}])})],1)],1),a("el-card",{staticClass:"user-list-utils",attrs:{shadow:"never"}},[a("div",{staticClass:"user-list-utils-flex"},[a("div",[a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.DelCopy()}}},[e._v("删除复制")])],1),a("div",[a("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":[10,20,50,100],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),a("el-dialog",{attrs:{title:"下载报表",visible:e.dow},on:{"update:visible":function(t){e.dow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时间选择"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dowTime,callback:function(t){e.dowTime=t},expression:"dowTime"}})],1),a("el-form-item",{attrs:{label:"下载条数"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"下载条数",type:"number"},on:{change:function(t){e.dowNum>0?e.dowNum:e.dowNum=1}},model:{value:e.dowNum,callback:function(t){e.dowNum=t},expression:"dowNum"}})],1)],1),a("el-form-item",{attrs:{label:"包含链接"}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"下载链接",type:"text"},model:{value:e.dowUrl,callback:function(t){e.dowUrl=t},expression:"dowUrl"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.download()}}},[e._v("确 定")])],1)],1)],1)},qe=[],We=a("4c68"),Je=We["a"],Ze=(a("bfde"),Object(l["a"])(Je,Ie,qe,!1,null,"77124b7d",null)),Ke=Ze.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"copy-funtion"},[a("div",[a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(1)}}},[e._v("今天")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(2)}}},[e._v("昨日")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(3)}}},[e._v("最近七天")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.SearchTime(4)}}},[e._v("最近30天")]),a("el-date-picker",{staticClass:"time",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.SearchTime(5)}},model:{value:e.selTime,callback:function(t){e.selTime=t},expression:"selTime"}}),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.ResetAndreFresh(0)}}},[e._v("重置")])],1),a("div",{staticClass:"copy-funtion"},[a("el-button",{staticClass:"dowload",on:{click:function(t){e.dow=!0}}},[e._v(" 下载报表 "),a("i",{staticClass:"el-icon-download el-icon--right"})]),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.Search()}},slot:"append"})],1)],1)])]),a("el-card",{staticClass:"copy-center",attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"date",order:"descending"},"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"expand",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"访问来源"}},[a("span",[e._v("："+e._s(t.row.url))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"url",align:"center",label:"访问来源",width:"430"}}),a("el-table-column",{attrs:{prop:"created_at",align:"center",label:"访问时间",sortable:"",formatter:e.formatterTime,width:"180"}}),a("el-table-column",{attrs:{prop:"ip",align:"center",label:"访问IP",width:"160"}}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"访问用户位置",formatter:e.formatterAddress,width:"200"}}),a("el-table-column",{attrs:{prop:"search",align:"center",label:"用户搜索词",width:"200"}}),a("el-table-column",{attrs:{prop:"wechar",align:"center",label:"访问微信"}}),a("el-table-column",{attrs:{prop:"visitor_number",align:"center",label:"访问次数"}}),a("el-table-column",{attrs:{align:"center",label:"用户标签",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isiPad?a("el-tag",[e._v("iPad")]):t.row.iPhone?a("el-tag",[e._v("iPhone")]):t.row.isAndroidTablet?a("el-tag",[e._v("平板手机")]):t.row.isAndroid?a("el-tag",[e._v("Android")]):e._e(),t.row.isWindows?a("el-tag",[e._v("Window")]):t.row.isTablet?a("el-tag",[e._v("平板电脑")]):e._e()]}}])})],1)],1),a("el-card",{staticClass:"visit-list-utils",attrs:{shadow:"never"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"下载报表",visible:e.dow},on:{"update:visible":function(t){e.dow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时间选择"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dowTime,callback:function(t){e.dowTime=t},expression:"dowTime"}})],1),a("el-form-item",{attrs:{label:"下载条数"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"下载条数",type:"number"},on:{change:function(t){e.dowNum>0?e.dowNum:e.dowNum=1}},model:{value:e.dowNum,callback:function(t){e.dowNum=t},expression:"dowNum"}})],1)],1),a("el-form-item",{attrs:{label:"包含链接"}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"下载链接",type:"text"},model:{value:e.dowUrl,callback:function(t){e.dowUrl=t},expression:"dowUrl"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.download()}}},[e._v("确 定")])],1)],1)],1)},Xe=[],et=a("b48c"),tt=et["a"],at=(a("bffb"),Object(l["a"])(tt,Qe,Xe,!1,null,"5f35ddbf",null)),rt=at.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},nt=[],lt=Object(g["a"])(Y=function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(b["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),t}(r["default"]))||Y,it=lt,ot=Object(l["a"])(it,st,nt,!1,null,"4756d450",null),ct=ot.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"u-utils",attrs:{shadow:"never"}},[a("el-button",{on:{click:function(t){e.drawer=!0}}},[e._v("新增链接")]),a("el-button",{on:{click:function(t){e.dialogVisible=!0}}},[e._v("检查死链")])],1),a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.urlList}},[a("el-table-column",{attrs:{prop:"url",label:"我的链接",align:"center"}}),a("el-table-column",{attrs:{prop:"desc",label:"备注",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用",disabled:""},on:{change:function(a){return e.status(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"props.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center",formatter:e.formatterCreated_at}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间",align:"center",formatter:e.formatterUpdated_at}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",disabled:""},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-drawer",{staticClass:"drawer",attrs:{visible:e.drawer,"with-header":!1},on:{"update:visible":function(t){e.drawer=t}}},[a("h2",{staticClass:"drawer-title"},[e._v("添加链接")]),a("el-form",{staticClass:"demo-dynamic"},[e._l(e.UrlList,(function(t,r){return a("el-form-item",{key:r,staticClass:"add-item",attrs:{prop:t[r]}},[a("el-card",{staticClass:"card",attrs:{shadow:"never"}},[a("el-input",{staticClass:"u-url",attrs:{placeholder:"请输入链接"},model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"item.url"}}),a("el-input",{staticClass:"u-desc",attrs:{placeholder:"请输入备注"},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"item.desc"}}),a("div",{staticClass:"u-status"},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.status,callback:function(a){e.$set(t,"status",a)},expression:"item.status"}}),a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeUrl(t)}}},[e._v("删除")])],1)],1)],1)})),a("el-form-item",{staticClass:"add-list"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitUrl}},[e._v("提交")]),a("el-button",{on:{click:e.addUrl}},[e._v("新增链接")])],1)],2)],1),a("el-drawer",{attrs:{visible:e.drawer_2,"with-header":!1},on:{"update:visible":function(t){e.drawer_2=t}}},[a("h2",{staticClass:"drawer-title"},[e._v("修改链接")]),a("el-form",{staticClass:"demo-dynamic"})],1),a("el-dialog",{attrs:{title:"检查死链",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._l(e.urlList,(function(e){return[a("el-alert",{key:e.url,staticClass:"url",attrs:{title:e.url,type:e.succeed?"success":"info",closable:!1,center:""}})]})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.examine}},[e._v("检 查")])],1)],2)],1)},dt=[],mt=(a("4de4"),a("c975"),a("d81d"),a("a434"),M=Object(g["a"])({methods:Object(v["c"])(["User"])}),M((R=function(e){function t(){var e,a;Object(p["a"])(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return a=Object(f["a"])(this,(e=Object(b["a"])(t)).call.apply(e,[this].concat(s))),Object(de["a"])(Object(ue["a"])(a),"urlList",[]),Object(de["a"])(Object(ue["a"])(a),"drawer",!1),Object(de["a"])(Object(ue["a"])(a),"drawer_2",!1),Object(de["a"])(Object(ue["a"])(a),"UrlList",[{url:"",desc:"",status:!0}]),Object(de["a"])(Object(ue["a"])(a),"dialogVisible",!1),Object(de["a"])(Object(ue["a"])(a),"succeedUrl",[]),a}return Object(h["a"])(t,e),Object(ce["a"])(t,[{key:"created",value:function(){this.getUrlList()}},{key:"getUrlList",value:function(){var e=this;this.$api.GetUrlList({params:{uid:this.User().id}}).then((function(t){var a=t.data,r=a.code,s=(a.message,a.data);s.map((function(e){e.succeed=!1})),r&&(e.urlList=s)}))}},{key:"formatterCreated_at",value:function(e){return $e()(e.created_at).format("YYYY-MM-DD, HH:mm:ss")}},{key:"formatterUpdated_at",value:function(e){return $e()(e.updated_at).format("YYYY-MM-DD, HH:mm:ss")}},{key:"removeUrl",value:function(e){var t=this.UrlList.indexOf(e);-1!==t&&this.UrlList.splice(t,1)}},{key:"addUrl",value:function(){this.UrlList.push({url:"",desc:"",status:!0})}},{key:"submitUrl",value:function(){var e=this,t=this.UrlList.filter((function(e){return e.url?e:void 0}));t.length?this.$api.PutUrl({data:t}).then((function(t){var a=t.data,r=a.code,s=a.message;r?(e.$message({message:s,type:"success"}),e.drawer=!1,e.getUrlList()):e.$message.error(s)})):this.$message({message:"没有添加的链接！",type:"warning"})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将删除该链接, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$api.DelUrl({data:e}).then((function(e){var a=e.data,r=a.code,s=a.message;r?t.$message({message:s,type:"success"}):t.$message.error(s),t.getUrlList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},{key:"handleEdit",value:function(e){this.drawer_2=!0}},{key:"status",value:function(e){console.log(e)}},{key:"examine",value:function(){var e=this;this.$api.PostUrl().then((function(t){e.urlList.forEach((function(e){t.data.urlList.forEach((function(t){e.url==t&&(e.succeed=!0)}))}))}))}}]),t}(r["default"]),N=R))||N),pt=mt,ft=(a("3f1a"),Object(l["a"])(pt,ut,dt,!1,null,"2210a5d9",null)),bt=ft.exports;r["default"].use(u["a"]);var ht=[{path:"/",name:"index",component:le,children:[{path:"/",name:"Home",component:xe},{path:"/user/list",name:"UserList",component:Fe},{path:"/user/add",name:"AddUser",component:Me},{path:"/user/updata",name:"UpdataUser",component:Be},{path:"/data/copy",name:"CopyData",component:Ke},{path:"/data/visit",name:"VisitData",component:rt},{path:"/data/download",name:"Download",component:ct},{path:"/classify/my-url",name:"MyUrl",component:bt}]},{path:"/login",name:"login",component:ge}],gt=new u["a"]({mode:"history",base:"/",routes:ht});gt.beforeEach((function(e,t,a){var r=!!localStorage.token;"/login"===e.path?a():(a(),r?a():a("/login"))}));var vt=gt,jt=(a("96cf"),a("1da1")),wt={User:{},Login:!1},yt={setUser:function(e,t){e.User=t||{}},setLogin:function(e,t){e.Login=t||!1}},kt={setUser:function(){var e=Object(jt["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("setUser",a);case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),setLogin:function(){var e=Object(jt["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("setLogin",a);case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),LoginOut:function(){var e=Object(jt["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,a("setUser",null),a("setLogin",!1);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},Ot={User:function(e){return e.User},Login:function(e){return e.Login}},_t={state:wt,mutations:yt,actions:kt,getters:Ot},xt=a("bfa9");r["default"].use(v["a"]);var Ct,St=new xt["a"]({key:"user",storage:window.localStorage,modules:["user"]}),Ut=new v["a"].Store({modules:{user:_t},plugins:[St.plugin]}),$t=a("5c96"),Tt=a.n($t),zt=(a("0fae"),a("3aff"),a("b0c0"),a("bc3a")),Pt=a.n(zt),Ft=function(e,t){var a="请求错误";switch(e){case 400:a="请求错误";break;case 401:a="登录已经过期了！请重新登录";break;case 403:a="拒绝访问";break;case 404:a="请求地址出错: ".concat(t.config.url);break;case 408:a="请求超时";break;case 500:a="服务器内部错误";break;case 501:a="服务未实现";break;case 502:a="网关错误";break;case 503:a="服务不可用";break;case 504:a="网关超时";break;case 505:a="HTTP版本不受支持";break;default:}return a},Lt=2e4,Dt="",At=Pt.a.create({baseURL:Dt,timeout:Lt,responseType:"json",maxContentLength:4e3,withCredentials:!0});function Et(){Ct=$t["Loading"].service({lock:!0,text:"正在读取数据...",background:"rgba(0,0,0,.7)"})}function Yt(){Ct.close()}At.interceptors.request.use((function(e){return Et(),localStorage.token&&(e.headers.Authorization=localStorage.token),e}),(function(e){return Promise.reject(e)})),At.interceptors.response.use((function(e){return Yt(),e}),(function(e){if(Yt(),e&&e.response){var t=Ft(e.response.status,e.response);$t["Message"].error({message:t}),localStorage.removeItem("token"),vt.push("/login")}return Promise.reject(e)}));var Mt=At,Nt=[{name:"login",path:"/api/user",method:"post",desc:"登录"},{name:"GetUser",path:"/api/user",method:"get",desc:"获取用户列表"},{name:"PutUser",path:"/api/user",method:"put",desc:"添加用户"},{name:"DelUser",path:"/api/user",method:"delete",desc:"删除用户"},{name:"GetVisitor",path:"/api/visitor/num",method:"get",desc:"获取访客"},{name:"GetAddr",path:"/api/visitor/addr",method:"get",desc:"获取访客"},{name:"GteCopy",path:"/api/copy/data",method:"get",desc:"获取复制"},{name:"DelCopy",path:"/api/copy/",method:"delete",desc:"删除复制"},{name:"PutUrl",path:"/api/userurl",method:"put",desc:"添加URL"},{name:"GetUrlList",path:"/api/userurl",method:"get",desc:"获取URL列表"},{name:"DelUrl",path:"/api/userurl",method:"delete",desc:"删除URL"},{name:"PostUrl",path:"/api/userurl",method:"post",desc:"检查死链"}],Rt={install:function(e){e.prototype.$api=this}};Nt.forEach((function(e){Rt[e.name]=function(t){return Mt[e.method](e.path,t)}})),r["default"].use(Rt),r["default"].config.productionTip=!1,r["default"].use(Tt.a),new r["default"]({router:vt,store:Ut,render:function(e){return e(c)}}).$mount("#app")},cf05:function(e,t,a){e.exports=a.p+"img/logo.4efcf726.png"},d896:function(e,t,a){"use strict";var r=a("c081"),s=a.n(r);s.a},dcb1:function(e,t,a){"use strict";var r=a("ccae"),s=a.n(r);s.a}});
//# sourceMappingURL=app.cd67e08e.js.map